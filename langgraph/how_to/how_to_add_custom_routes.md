[![LangGraph How to](https://img.shields.io/badge/LangGraph-How_to-yellow?logo=langgraph)](https://langchain-ai.github.io/langgraph/how-tos/http/custom_routes/)


# How to add custom routes

λ‹¤μμ€ κ·€ν•κ°€ μ”μ²­ν• λ‚΄μ©μ„ μμ—°μ¤λ½κ² ν•κµ­μ–΄λ΅ λ²μ—­ν• κ²ƒμ…λ‹λ‹¤:

---

### μ‚¬μ©μ μ •μ κ²½λ΅ μ¶”κ°€ λ°©λ²•Β¶

LangGraph ν”λ«νΌμ—μ„ μ—μ΄μ „νΈλ¥Ό λ°°ν¬ν•  λ•, μ„λ²„λ” λ°(run) λ° μ¤λ λ“(thread) μƒμ„±, μ¥κΈ° λ©”λ¨λ¦¬ μ €μ¥μ†μ™€ μƒνΈμ‘μ©, κµ¬μ„± κ°€λ¥ν• μ–΄μ‹μ¤ν„΄νΈ κ΄€λ¦¬, κΈ°νƒ€ ν•µμ‹¬ κΈ°λ¥(λ¨λ“  κΈ°λ³Έ API μ—”λ“ν¬μΈνΈ μ°Έμ΅°)μ„ μ„ν• κ²½λ΅λ¥Ό μλ™μΌλ΅ λ…Έμ¶ν•©λ‹λ‹¤.

Starlette μ•±(FastAPI, FastHTML λ° κΈ°νƒ€ νΈν™ μ•± ν¬ν•¨)μ„ μ§μ ‘ μ κ³µν•¨μΌλ΅μ¨ μ‚¬μ©μ μ •μ κ²½λ΅λ¥Ό μ¶”κ°€ν•  μ μμµλ‹λ‹¤. langgraph.json μ„¤μ • νμΌμ— μ•± κ²½λ΅λ¥Ό μ§€μ •ν•μ—¬ LangGraph ν”λ«νΌμ— μ΄λ¥Ό μ•λ¦΄ μ μμµλ‹λ‹¤. (μ: `"http": {"app": "path/to/app.py:app"}`).

μ‚¬μ©μ μ •μ μ•± κ°μ²΄λ¥Ό μ •μν•λ©΄ μ›ν•λ” λ¨λ“  κ²½λ΅λ¥Ό μ¶”κ°€ν•  μ μμΌλ©°, /login μ—”λ“ν¬μΈνΈ μ¶”κ°€λ¶€ν„° λ‹¨μΌ LangGraph λ°°ν¬μ—μ„ μ „μ²΄ ν’€μ¤νƒ μ›Ήμ•±μ„ μ‘μ„±ν•λ” κ²ƒκΉμ§€ κ°€λ¥ν•©λ‹λ‹¤.

μ•„λλ” FastAPIλ¥Ό μ‚¬μ©ν•λ” μμ μ…λ‹λ‹¤.

---

### Python μ „μ©
ν„μ¬ μ°λ¦¬λ” `langgraph-api>=0.0.26` μ΄μƒμ Python λ°°ν¬μ—μ„λ§ μ‚¬μ©μ μ •μ μΈμ¦ λ° κ¶ν• λ¶€μ—¬λ¥Ό μ§€μ›ν•©λ‹λ‹¤.

---

### μ• ν”λ¦¬μΌ€μ΄μ… μƒμ„±Β¶

κΈ°μ΅΄ LangGraph ν”λ«νΌ μ• ν”λ¦¬μΌ€μ΄μ…μ—μ„ μ‹μ‘ν•κ±°λ‚ CLIλ¥Ό μ‚¬μ©ν•μ—¬ ν…ν”λ¦Ώμ—μ„ μƒλ΅μ΄ μ• ν”λ¦¬μΌ€μ΄μ…μ„ μƒμ„±ν•  μ μμµλ‹λ‹¤.

```bash
langgraph new --template=new-langgraph-project-python my_new_project
```

LangGraph ν”„λ΅μ νΈλ¥Ό μƒμ„±ν• ν›„, μ•„λμ™€ κ°™μ€ μ•± μ½”λ“λ¥Ό μ¶”κ°€ν•μ‹­μ‹μ¤:

```python
# ./src/agent/webapp.py
from fastapi import FastAPI

app = FastAPI()

@app.get("/hello")
def read_root():
    return {"Hello": "World"}
```

---

### langgraph.json κµ¬μ„±Β¶

λ‹¤μ μ½”λ“λ¥Ό `langgraph.json` νμΌμ— μ¶”κ°€ν•μ„Έμ”. κ²½λ΅κ°€ μ„μ—μ„ μƒμ„±ν• `app.py` νμΌμ„ μ¬λ°”λ¥΄κ² κ°€λ¦¬ν‚¤λ”μ§€ ν™•μΈν•μ‹­μ‹μ¤.

```json
{
  "dependencies": ["."],
  "graphs": {
    "agent": "./src/agent/graph.py:graph"
  },
  "env": ".env",
  "http": {
    "app": "./src/agent/webapp.py:app"
  }
  // κΈ°νƒ€ κµ¬μ„± μµμ… (μ: μΈμ¦, μ €μ¥μ† λ“±).
}
```

---

### μ„λ²„ μ‹μ‘Β¶

λ΅μ»¬μ—μ„ μ„λ²„λ¥Ό ν…μ¤νΈν•μ„Έμ”:

```bash
langgraph dev --no-browser
```

λΈλΌμ°μ €μ—μ„ `localhost:2024/hello`λ΅ μ΄λ™ν•λ©΄(2024λ” κΈ°λ³Έ κ°λ° ν¬νΈ) `{"Hello": "World"}`λ¥Ό λ°ν™ν•λ” `hello` μ—”λ“ν¬μΈνΈλ¥Ό ν™•μΈν•  μ μμµλ‹λ‹¤.

---

### κΈ°λ³Έ μ—”λ“ν¬μΈνΈ λ®μ–΄μ“°κΈ°

μ•±μ—μ„ μƒμ„±ν• κ²½λ΅λ” μ‹μ¤ν… κΈ°λ³Έκ°’λ³΄λ‹¤ μ°μ„ μμ„κ°€ λ†’μ•„μ§€λ―€λ΅, κΈ°λ³Έ μ—”λ“ν¬μΈνΈμ λ™μ‘μ„ λ®μ–΄μ“°κ±°λ‚ μ¬μ •μν•  μ μμµλ‹λ‹¤.

---

### λ°°ν¬Β¶

μ„ μ„¤μ • κ·Έλ€λ΅ κ΄€λ¦¬λλ” LangGraph ν΄λΌμ°λ“λ‚ μμ²΄ νΈμ¤ν… ν”λ«νΌμ— μ•±μ„ λ°°ν¬ν•  μ μμµλ‹λ‹¤.

---

### λ‹¤μ λ‹¨κ³„Β¶

μ‚¬μ©μ μ •μ κ²½λ΅λ¥Ό λ°°ν¬μ— μ¶”κ°€ν• ν›„, μ μ‚¬ν• κΈ°λ²•μ„ μ‚¬μ©ν•μ—¬ μ„λ²„ λ™μ‘μ„ μ¶”κ°€λ΅ μ‚¬μ©μ μ •μν•  μ μμµλ‹λ‹¤. μλ¥Ό λ“¤μ–΄, μ‚¬μ©μ μ •μ λ―Έλ“¤μ›¨μ–΄ λ° μλ… μ΄λ²¤νΈλ¥Ό μ •μν•  μ μμµλ‹λ‹¤.

---

λ” κ¶κΈν• μ μ΄ μλ‹¤λ©΄ λ§μ”€ν•΄μ£Όμ„Έμ”! π
